---
layout: default
---

# miso
ノートやユーザーを別のMisskeyインスタンスで表示します。  

## ダウンロード
[<img alt="Chrome Web Store" src="assets/chromewebstore.png" width="30"> Chrome Web Store からダウンロード](https://chrome.google.com/webstore/detail/miso/gomfgdhiicbpjfojpbabncloffohpbpf)  
[<img alt="Firefox Browser" src="assets/firefoxbrowser.png" width="30"> Firefox Browser Add-ons からダウンロード](https://addons.mozilla.org/ja/firefox/addon/miso/) ※現在Firefox版はβリリースです。

## 設定方法 for Chrome
1. Chrome Web Store から拡張機能をインストールします。
2. お使いのMisskeyインスタンスで、'設定'/'API'/'アクセストークンの発行'を開きます。任意の名前を設定し、権限は全て無効にして確定します。表示されるトークンをコピーします。
3. Chromeの拡張機能ページ(chrome://extensions/)を開き、misoの'詳細'から'拡張機能のオプション'を開きます。siteDomainにお使いのMisskeyインスタンスのURL(ex. https://misskey.srgr0.com )を入力、API Keyに上で取得したトークンをペーストし、保存します。**注意: URLは'https://'から入力してください。**
4. 任意のインスタンス(上で設定したインスタンスを除く)のノートページまたはユーザーページで、ツールバー上の拡張機能のアイコンをクリックします。お使いのMisskeyインスタンスにて、そのノートまたはユーザーのページが開きます。ヒント: 拡張機能は、デフォルトでツールバーの拡張機能ボタン内にまとめられています。拡張機能ボタン内の拡張機能の横のピンで、拡張機能をツールバー上に固定させることができます。

## 設定方法 for Firefox
1. Firefox Browser Add-ons から拡張機能をインストールします。
2. お使いのMisskeyインスタンスで、'設定'/'API'/'アクセストークンの発行'を開きます。任意の名前を設定し、権限は全て無効にして確定します。表示されるトークンをコピーします。
3. Firefoxの拡張機能ページ(about:addons)を開き、misoのオプション('…'アイコン)で'管理'を選択します。misoのオプションページが開いたら、'設定'タブを開きます。siteDomainにお使いのMisskeyインスタンスのURL(ex. https://misskey.srgr0.com )を入力、API Keyに上で取得したトークンをペーストし、保存します。**注意: URLは'https://'から入力してください。**
5. 任意のインスタンス(上で設定したインスタンスを除く)のノートページまたはユーザーページで、ツールバー上の拡張機能のアイコンをクリックします。お使いのMisskeyインスタンスにて、そのノートまたはユーザーのページが開きます。ヒント: 拡張機能は、デフォルトでツールバーの拡張機能ボタン内にまとめられています。拡張機能ボタン内の拡張機能の横にある設定アイコンで'ツールバーにピン留め'を選択すると、拡張機能をツールバー上に固定させることができます。

## 仕組み
この拡張機能は、Misskey APIの/ap/showエンドポイントを使用しています。  
この拡張機能は以下のように動作します:  
1. 拡張機能がクリックされたことを検知
2. 現在のURLを取得
3. ユーザーページの場合、URLを適切な形式に変換して新規タブを開く
4. ノートページの場合、/ap/showエンドポイントでnoteidを取得し、URLを適切な形式に変換して新規タブを開く

## セキュリティ/プライバシー
この拡張機能は、必要最小限の情報を扱うよう設計されています。  

#### データの保存
ユーザーが設定したsiteDomainとAPI Keyは、Chrome Storage (Local)に保存されます。  
これらの情報が同期等のために外部に送信されることはありません。この拡張機能を複数の端末で使用される場合、それぞれの端末で設定が必要です。  

#### インターネットアクセス
この拡張機能はユーザーが拡張機能をクリックした場合にのみ、ユーザーが設定したsiteDomainに対し、リクエストを送信します。  
リクエストのペイロードにはその時点で開かれているタブ(アクティブタブ)のurlとAPI Keyが含まれます。  

#### 使用状況の分析等
この拡張機能には、一般にアナリティクスと呼ばれる拡張機能の使用状況等の収集・分析ツールは含まれません。  
この拡張機能をChrome Web Store経由でインストールされた場合、Chromeにより拡張機能のインストール/アンインストール数やユーザー数、Chrome Web Storeでの表示数が自動的に収集されます。これを防止するには、拡張機能をソースコードからインストールしてください。  

## ヘルプ
### 以下のようなエラーが表示される
- - Chrome: ファイルにアクセスできませんでした 移動、編集、削除された可能性があります。ERR_FILE_NOT_FOUND
  - Firefox: ファイルが見つかりませんでした moz-extension://xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx/undefined/@undefined@domain にはファイルが見つかりませんでした。アドレスに大文字/小文字の違い、その他の間違いがないか確認してください。ファイルの名前が変更、削除、または移動している可能性があります。
- 拡張機能の設定が行われていない可能性があります。設定方法([Chrome向け](# 設定方法 for Chrome), [Firefox向け](# 設定方法 for Firefox))を確認して設定を行ってください。

### 拡張機能の動作が遅い
- ノートを開くのが遅い  
  同じurlをお使いのインスタンス(siteDomainに設定しているもの)の照会機能で検索してみてください。このときのレスポンスが遅い場合、お使いのインスタンスのパフォーマンスの問題となります。apiリクエストがエラーとならない限り、インスタンスからのレスポンスを受け取り次第新規タブが開きます。ioなど比較的大規模なインスタンスで発生しやすい問題です。
- ユーザーを開くのが遅い  
  ユーザーの場合はapiを使用していないため、拡張機能に問題がない限りはすぐに新規タブが開きます。ページが開かない場合、以下の「拡張機能が動作しない」をご覧ください。タブが開いてからの読み込みについては、インスタンスのパフォーマンス次第となります。ioなど比較的大規模なインスタンスでは読み込みが遅くなることがしばしばあります。

### 拡張機能が動作しない
以下の手順に従ってトラブルシューティングを行ってください。  
1. ドメインとAPI Keyを設定しているか確認してください。URLは'https://'から入力してください。
2. [このページ](https://misskey-hub.net/docs/api/endpoints/ap/show.html)でドメインとAPI Keyをテストしてください。正常にリクエストが完了しない場合、インスタンスまたはAPI Keyに問題があります。
3. 問題が解決しない場合、このリポジトリのIssueまたは``@srgr0@misskey.srgr0.com``までお知らせください。
4. (分かる方向け)拡張機能の開発者モードを有効にし、Service WorkerのDev Toolsを開きます。
   1. コンソールタブを開き、警告やエラーが表示されている場合は内容を確認して対処してください。
   2. ネットワークタブを開き、リクエストが正常に完了していない場合は内容を確認して対処してください。
   3. ソースタブを開き、最初の行にブレークポイントを設定してください。拡張機能を実行し、ステップ毎の動作を確認してください。問題が発生している箇所を特定し、修正してください。
   4. バグを発見された場合は、PRをお送りいただければ幸いです。

### アンインストールしたい
拡張機能を削除してください。設定はChromeにより自動的に削除されます。  
